{"ast":null,"code":"import React,{useContext,useEffect,useRef,useState}from'react';import noteContext from'../context/notes/noteContext';import Noteitem from'./Noteitem';import AddNote from'./AddNote';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Notes=props=>{const navigate=useNavigate();const context=useContext(noteContext);const{notes,getNotes,editNote}=context;useEffect(()=>{if(!localStorage.getItem('token')){navigate('/login');}else{getNotes();}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);const[note,setNote]=useState({id:'',etitle:'',edescription:'',etag:''});const refClose=useRef(null);const updateNote=currentNote=>{setNote({id:currentNote._id,etitle:currentNote.title,edescription:currentNote.description,etag:currentNote.tag});refClose.current.click();// Automatically closes modal when updating note\n};const handleClick=()=>{editNote(note.id,note.etitle,note.edescription,note.etag);props.showalert('Updated Note successfully','success');refClose.current.click();// Closes modal after updating note\n};const onChange=e=>{setNote({...note,[e.target.name]:e.target.value});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AddNote,{showalert:props.showalert}),/*#__PURE__*/_jsx(\"button\",{ref:refClose,type:\"button\",className:\"btn btn-primary d-none\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",children:\"Launch demo modal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",style:{color:'#AF54FF'},children:\"Edit Note\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"my-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"etitle\",className:\"form-label\",style:{color:'#AF54FF'},children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etitle\",name:\"etitle\",value:note.etitle,\"aria-describedby\":\"emailHelp\",onChange:onChange,minLength:5,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"edescription\",className:\"form-label\",style:{color:'#AF54FF'},children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"edescription\",name:\"edescription\",value:note.edescription,onChange:onChange,minLength:5,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"etag\",className:\"form-label\",style:{color:'#AF54FF'},children:\"Tag\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etag\",name:\"etag\",value:note.etag,onChange:onChange})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{disabled:note.etitle.length<5||note.edescription.length<5,onClick:handleClick,type:\"button\",className:\"btn btn-primary\",children:\"Update Note\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row my-3\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:'#AF54FF'},children:\"Your Notes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container mx-2\",children:notes.length===0&&'No notes to display'}),Array.isArray(notes)&&notes.map(note=>{return/*#__PURE__*/_jsx(Noteitem,{showalert:props.showalert,updateNote:updateNote,note:note},note._id);})]})]});};export default Notes;","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","noteContext","Noteitem","AddNote","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Notes","props","navigate","context","notes","getNotes","editNote","localStorage","getItem","note","setNote","id","etitle","edescription","etag","refClose","updateNote","currentNote","_id","title","description","tag","current","click","handleClick","showalert","onChange","e","target","name","value","children","ref","type","className","tabIndex","style","color","htmlFor","minLength","required","disabled","length","onClick","Array","isArray","map"],"sources":["/home/prasanthi/Desktop/NotesCloud/src/components/Notes.js"],"sourcesContent":["import React, { useContext, useEffect, useRef, useState } from 'react';\nimport noteContext from '../context/notes/noteContext';\nimport Noteitem from './Noteitem';\nimport AddNote from './AddNote';\nimport { useNavigate } from 'react-router-dom';\n\nconst Notes = (props) => {\n  const navigate = useNavigate();\n  const context = useContext(noteContext);\n  const { notes, getNotes, editNote } = context;\n  useEffect(() => {\n    if (!localStorage.getItem('token')) {\n      navigate('/login');\n    } else {\n      getNotes();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const [note, setNote] = useState({ id: '', etitle: '', edescription: '', etag: '' });\n  const refClose = useRef(null);\n\n  const updateNote = (currentNote) => {\n    setNote({\n      id: currentNote._id,\n      etitle: currentNote.title,\n      edescription: currentNote.description,\n      etag: currentNote.tag,\n    });\n    refClose.current.click(); // Automatically closes modal when updating note\n  };\n\n  const handleClick = () => {\n    editNote(note.id, note.etitle, note.edescription, note.etag);\n    props.showalert('Updated Note successfully', 'success');\n    refClose.current.click(); // Closes modal after updating note\n  };\n\n  const onChange = (e) => {\n    setNote({ ...note, [e.target.name]: e.target.value });\n  };\n\n  return (\n    <>\n      <AddNote showalert={props.showalert} />\n\n      {/* Button to trigger modal */}\n      <button ref={refClose} type=\"button\" className=\"btn btn-primary d-none\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\n        Launch demo modal\n      </button>\n\n      {/* Modal component */}\n      <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n        <div className=\"modal-dialog\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\" id=\"exampleModalLabel\" style={{ color: '#AF54FF' }}>\n                Edit Note\n              </h5>\n              <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div className=\"modal-body\">\n              <form className=\"my-3\">\n                <div className=\"mb-3\">\n                  <label htmlFor=\"etitle\" className=\"form-label\" style={{ color: '#AF54FF' }}>\n                    Title\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"etitle\"\n                    name=\"etitle\"\n                    value={note.etitle}\n                    aria-describedby=\"emailHelp\"\n                    onChange={onChange}\n                    minLength={5}\n                    required\n                  />\n                </div>\n                <div className=\"mb-3\">\n                  <label htmlFor=\"edescription\" className=\"form-label\" style={{ color: '#AF54FF' }}>\n                    Description\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"edescription\"\n                    name=\"edescription\"\n                    value={note.edescription}\n                    onChange={onChange}\n                    minLength={5}\n                    required\n                  />\n                </div>\n                <div className=\"mb-3\">\n                  <label htmlFor=\"etag\" className=\"form-label\" style={{ color: '#AF54FF' }}>\n                    Tag\n                  </label>\n                  <input type=\"text\" className=\"form-control\" id=\"etag\" name=\"etag\" value={note.etag} onChange={onChange} />\n                </div>\n              </form>\n            </div>\n            <div className=\"modal-footer\">\n              <button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\n                Close\n              </button>\n              <button\n                disabled={note.etitle.length < 5 || note.edescription.length < 5}\n                onClick={handleClick}\n                type=\"button\"\n                className=\"btn btn-primary\"\n              >\n                Update Note\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"row my-3\">\n        <h2 style={{ color: '#AF54FF' }}>Your Notes</h2>\n        <div className=\"container mx-2\">{notes.length === 0 && 'No notes to display'}</div>\n        {Array.isArray(notes) &&\n          notes.map((note) => {\n            return <Noteitem showalert={props.showalert} key={note._id} updateNote={updateNote} note={note} />;\n          })}\n      </div>\n    </>\n  );\n};\n\nexport default Notes;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}