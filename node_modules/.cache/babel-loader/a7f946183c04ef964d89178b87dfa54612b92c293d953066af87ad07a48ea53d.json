{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=props=>{const[credentials,setCredentials]=useState({email:\"\",password:\"\"});const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();const response=await fetch(\"http://localhost:2000/api/auth/login\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:credentials.email,password:credentials.password})});const json=await response.json();console.log(json);if(json.success){// Save the auth token and redirect\nlocalStorage.setItem('token',json.authtoken);navigate(\"/\");props.showalert(\"Logged in successfully\",\"success\");}else{props.showalert(\"Invalid credentials\",\"danger\");}};const onChange=e=>{setCredentials({...credentials,[e.target.name]:e.target.value});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:\"#AF54FF\"},children:\"Login in to continue to NotesCloud\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"my-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",value:credentials.email,onChange:onChange,id:\"email\",name:\"email\",\"aria-describedby\":\"emailHelp\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",value:credentials.password,onChange:onChange,name:\"password\",id:\"password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Submit\"})]})]});};export default Login;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","props","credentials","setCredentials","email","password","navigate","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","json","console","log","success","localStorage","setItem","authtoken","showalert","onChange","target","name","value","children","style","color","onSubmit","className","htmlFor","type","id"],"sources":["/home/prasanthi/Desktop/NotesCloud/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\n\nconst Login = (props) => {\n    const [credentials, setCredentials] = useState({ email: \"\", password: \"\" }) \n    const navigate = useNavigate();\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        const response = await fetch(\"http://localhost:2000/api/auth/login\", {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({ email: credentials.email, password: credentials.password })\n        });\n        const json = await response.json()\n        console.log(json);\n        if (json.success) {\n            // Save the auth token and redirect\n            localStorage.setItem('token', json.authtoken); \n            navigate(\"/\");  \n            props.showalert(\"Logged in successfully\",\"success\")\n        } else {\n            props.showalert(\"Invalid credentials\",\"danger\");\n        }\n    }\n\n    const onChange = (e) => {\n        setCredentials({...credentials, [e.target.name]: e.target.value})\n    }\n\n    return (\n        <div>\n            <h2 style={{color:\"#AF54FF\"}} >Login in to continue to NotesCloud</h2>\n            <form onSubmit={handleSubmit} className='my-3'>\n                <div className=\"mb-3\">\n                    <label htmlFor=\"email\" className=\"form-label\">Email address</label>\n                    <input type=\"email\" className=\"form-control\" value={credentials.email} onChange={onChange} id=\"email\" name=\"email\" aria-describedby=\"emailHelp\" />\n                </div>\n                <div className=\"mb-3\">\n                    <label htmlFor=\"password\" className=\"form-label\">Password</label>\n                    <input type=\"password\" className=\"form-control\" value={credentials.password} onChange={onChange} name=\"password\" id=\"password\" />\n                </div>\n\n                <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n            </form>\n        </div>\n    )\n}\n\nexport default Login\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}