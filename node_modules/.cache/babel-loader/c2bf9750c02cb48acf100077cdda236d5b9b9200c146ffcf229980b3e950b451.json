{"ast":null,"code":"import React,{useState}from'react';import{Link,useLocation,useNavigate}from\"react-router-dom\";import Modal from'./Modal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=props=>{let location=useLocation();let navigate=useNavigate();const[isModalOpen,setIsModalOpen]=useState(false);const[userData,setUserData]=useState(null);const handleLogout=()=>{localStorage.removeItem('token');props.showalert(\"Logged out Successfully\",\"success\");navigate(\"/login\");};const getdetails=async e=>{e.preventDefault();try{const response=await fetch(\"http://localhost:2000/api/auth/getuser\",{method:'POST',headers:{'auth-token':localStorage.getItem('token')}});const json=await response.json();setUserData(json);setIsModalOpen(true);}catch(error){console.error(\"Error fetching user data:\",error);}};const handleCloseModal=()=>{setIsModalOpen(false);setUserData(null);};return/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar navbar-expand-lg navbar-dark bg-dark sticky-top\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(Link,{className:\"navbar-brand\",to:\"/\",style:{color:\"beige\"},children:/*#__PURE__*/_jsx(\"b\",{children:\"NotesCloud\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarSupportedContent\",\"aria-controls\":\"navbarSupportedContent\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarSupportedContent\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav me-auto mb-2 mb-lg-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link \".concat(location.pathname===\"/\"?\"active\":\"\"),\"aria-current\":\"page\",to:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link \".concat(location.pathname===\"/about\"?\"active\":\"\"),to:\"/about\",children:\"About\"})})]}),!localStorage.getItem('token')?/*#__PURE__*/_jsxs(\"form\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-primary mx-1\",to:\"/login\",role:\"button\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{className:\"btn btn-primary mx-1\",to:\"/signup\",role:\"button\",children:\"Signup\"})]}):/*#__PURE__*/_jsxs(\"form\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:getdetails,className:\"btn btn-primary mx-1\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-user\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"btn btn-primary\",children:\"LogOut\"})]})]})]}),/*#__PURE__*/_jsx(Modal,{isOpen:isModalOpen,onClose:handleCloseModal,userData:userData})]});};export default Navbar;","map":{"version":3,"names":["React","useState","Link","useLocation","useNavigate","Modal","jsx","_jsx","jsxs","_jsxs","Navbar","props","location","navigate","isModalOpen","setIsModalOpen","userData","setUserData","handleLogout","localStorage","removeItem","showalert","getdetails","e","preventDefault","response","fetch","method","headers","getItem","json","error","console","handleCloseModal","className","children","to","style","color","type","id","concat","pathname","role","onClick","isOpen","onClose"],"sources":["/home/prasanthi/Desktop/NotesCloud/src/components/Navbar.js"],"sourcesContent":["\nimport React, { useState } from 'react';\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport Modal from './Modal';\n\nconst Navbar = (props) => {\n  let location = useLocation();\n  let navigate = useNavigate();\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [userData, setUserData] = useState(null);\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    props.showalert(\"Logged out Successfully\", \"success\");\n    navigate(\"/login\");\n  };\n\n  const getdetails = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await fetch(\"http://localhost:2000/api/auth/getuser\", {\n        method: 'POST',\n        headers: {\n          'auth-token': localStorage.getItem('token')\n        },\n      });\n      const json = await response.json();\n      setUserData(json);\n      setIsModalOpen(true);\n    } catch (error) {\n      console.error(\"Error fetching user data:\", error);\n    }\n  };\n\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n    setUserData(null);\n  };\n\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark sticky-top\">\n      <div className=\"container-fluid\">\n        <Link className=\"navbar-brand\" to=\"/\" style={{ color: \"beige\" }}><b>NotesCloud</b></Link>\n        <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n          <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\n            <li className=\"nav-item\">\n              <Link className={`nav-link ${location.pathname === \"/\" ? \"active\" : \"\"}`} aria-current=\"page\" to=\"/\">Home</Link>\n            </li>\n            <li className=\"nav-item\">\n              <Link className={`nav-link ${location.pathname === \"/about\" ? \"active\" : \"\"}`} to=\"/about\">About</Link>\n            </li>\n          </ul>\n          {!localStorage.getItem('token') ? (\n            <form className=\"d-flex\">\n              <Link className=\"btn btn-primary mx-1\" to=\"/login\" role=\"button\">Login</Link>\n              <Link className=\"btn btn-primary mx-1\" to=\"/signup\" role=\"button\">Signup</Link>\n            </form>\n          ) : (\n            <form className=\"d-flex\">\n              <button onClick={getdetails} className=\"btn btn-primary mx-1\"><i className=\"fa-solid fa-user\"></i></button>\n              <button onClick={handleLogout} className='btn btn-primary'>LogOut</button>\n            </form>\n          )}\n        </div>\n      </div>\n      <Modal isOpen={isModalOpen} onClose={handleCloseModal} userData={userData} />\n    </nav>\n  );\n};\n\nexport default Navbar;\n"],"mappings":"AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,CAAEC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CACjE,MAAO,CAAAC,KAAK,KAAM,SAAS,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5B,KAAM,CAAAC,MAAM,CAAIC,KAAK,EAAK,CACxB,GAAI,CAAAC,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC5B,GAAI,CAAAU,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC5B,KAAM,CAACU,WAAW,CAAEC,cAAc,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACe,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAE9C,KAAM,CAAAiB,YAAY,CAAGA,CAAA,GAAM,CACzBC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC,CAChCT,KAAK,CAACU,SAAS,CAAC,yBAAyB,CAAE,SAAS,CAAC,CACrDR,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,CAED,KAAM,CAAAS,UAAU,CAAG,KAAO,CAAAC,CAAC,EAAK,CAC9BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,wCAAwC,CAAE,CACrEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,YAAY,CAAET,YAAY,CAACU,OAAO,CAAC,OAAO,CAC5C,CACF,CAAC,CAAC,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAL,QAAQ,CAACK,IAAI,CAAC,CAAC,CAClCb,WAAW,CAACa,IAAI,CAAC,CACjBf,cAAc,CAAC,IAAI,CAAC,CACtB,CAAE,MAAOgB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACnD,CACF,CAAC,CAED,KAAM,CAAAE,gBAAgB,CAAGA,CAAA,GAAM,CAC7BlB,cAAc,CAAC,KAAK,CAAC,CACrBE,WAAW,CAAC,IAAI,CAAC,CACnB,CAAC,CAED,mBACER,KAAA,QAAKyB,SAAS,CAAC,wDAAwD,CAAAC,QAAA,eACrE1B,KAAA,QAAKyB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B5B,IAAA,CAACL,IAAI,EAACgC,SAAS,CAAC,cAAc,CAACE,EAAE,CAAC,GAAG,CAACC,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAQ,CAAE,CAAAH,QAAA,cAAC5B,IAAA,MAAA4B,QAAA,CAAG,YAAU,CAAG,CAAC,CAAM,CAAC,cACzF5B,IAAA,WAAQ2B,SAAS,CAAC,gBAAgB,CAACK,IAAI,CAAC,QAAQ,CAAC,iBAAe,UAAU,CAAC,iBAAe,yBAAyB,CAAC,gBAAc,wBAAwB,CAAC,gBAAc,OAAO,CAAC,aAAW,mBAAmB,CAAAJ,QAAA,cAC7M5B,IAAA,SAAM2B,SAAS,CAAC,qBAAqB,CAAO,CAAC,CACvC,CAAC,cACTzB,KAAA,QAAKyB,SAAS,CAAC,0BAA0B,CAACM,EAAE,CAAC,wBAAwB,CAAAL,QAAA,eACnE1B,KAAA,OAAIyB,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC7C5B,IAAA,OAAI2B,SAAS,CAAC,UAAU,CAAAC,QAAA,cACtB5B,IAAA,CAACL,IAAI,EAACgC,SAAS,aAAAO,MAAA,CAAc7B,QAAQ,CAAC8B,QAAQ,GAAK,GAAG,CAAG,QAAQ,CAAG,EAAE,CAAG,CAAC,eAAa,MAAM,CAACN,EAAE,CAAC,GAAG,CAAAD,QAAA,CAAC,MAAI,CAAM,CAAC,CAC9G,CAAC,cACL5B,IAAA,OAAI2B,SAAS,CAAC,UAAU,CAAAC,QAAA,cACtB5B,IAAA,CAACL,IAAI,EAACgC,SAAS,aAAAO,MAAA,CAAc7B,QAAQ,CAAC8B,QAAQ,GAAK,QAAQ,CAAG,QAAQ,CAAG,EAAE,CAAG,CAACN,EAAE,CAAC,QAAQ,CAAAD,QAAA,CAAC,OAAK,CAAM,CAAC,CACrG,CAAC,EACH,CAAC,CACJ,CAAChB,YAAY,CAACU,OAAO,CAAC,OAAO,CAAC,cAC7BpB,KAAA,SAAMyB,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACtB5B,IAAA,CAACL,IAAI,EAACgC,SAAS,CAAC,sBAAsB,CAACE,EAAE,CAAC,QAAQ,CAACO,IAAI,CAAC,QAAQ,CAAAR,QAAA,CAAC,OAAK,CAAM,CAAC,cAC7E5B,IAAA,CAACL,IAAI,EAACgC,SAAS,CAAC,sBAAsB,CAACE,EAAE,CAAC,SAAS,CAACO,IAAI,CAAC,QAAQ,CAAAR,QAAA,CAAC,QAAM,CAAM,CAAC,EAC3E,CAAC,cAEP1B,KAAA,SAAMyB,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACtB5B,IAAA,WAAQqC,OAAO,CAAEtB,UAAW,CAACY,SAAS,CAAC,sBAAsB,CAAAC,QAAA,cAAC5B,IAAA,MAAG2B,SAAS,CAAC,kBAAkB,CAAI,CAAC,CAAQ,CAAC,cAC3G3B,IAAA,WAAQqC,OAAO,CAAE1B,YAAa,CAACgB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,QAAM,CAAQ,CAAC,EACtE,CACP,EACE,CAAC,EACH,CAAC,cACN5B,IAAA,CAACF,KAAK,EAACwC,MAAM,CAAE/B,WAAY,CAACgC,OAAO,CAAEb,gBAAiB,CAACjB,QAAQ,CAAEA,QAAS,CAAE,CAAC,EAC1E,CAAC,CAEV,CAAC,CAED,cAAe,CAAAN,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}